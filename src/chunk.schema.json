{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Chunk",
  "type": "object",
  "additionalProperties": false,
  "required": ["id", "name", "instrument", "steps"],
  "properties": {
    "id": {
      "type": "string",
      "description": "Unique chunk identifier"
    },
    "name": {
      "type": "string",
      "description": "Human-friendly chunk name"
    },
    "instrument": {
      "type": "string",
      "description": "Maps to Tone.js instrument"
    },
    "steps": {
      "type": "array",
      "description": "16-step pattern (1 = hit, 0 = rest)",
      "items": {
        "type": "integer",
        "enum": [0, 1]
      },
      "minItems": 16,
      "maxItems": 16
    },
    "velocities": {
      "type": "array",
      "description": "Per-step hit intensity",
      "items": {
        "type": "number",
        "minimum": 0,
        "maximum": 1
      },
      "minItems": 16,
      "maxItems": 16
    },
    "pitches": {
      "type": "array",
      "description": "Per-step pitch shift in semitones",
      "items": {
        "type": "number",
        "minimum": -12,
        "maximum": 12
      },
      "minItems": 16,
      "maxItems": 16
    },
    "note": {
      "type": "string",
      "description": "Pitch or root note"
    },
    "sustain": {
      "type": "number",
      "description": "Default note length in seconds",
      "minimum": 0
    },
    "notes": {
      "type": "array",
      "description": "Chord notes for arpeggiator",
      "items": { "type": "string" }
    },
    "degrees": {
      "type": "array",
      "description": "Chord semitone offsets from root",
      "items": {
        "type": "number"
      }
    },
    "pitchBend": {
      "type": "number",
      "description": "Pitch bend in semitones",
      "minimum": -5,
      "maximum": 5
    },
    "style": {
      "type": "string",
      "description": "Arpeggiator style",
      "enum": ["up", "down", "up-down", "random"]
    },
    "mode": {
      "type": "string",
      "description": "Arpeggiator playback mode",
      "enum": ["continuous", "manual"]
    }
  }
}
